{"version":3,"file":"guardian.umd.js","sources":["../src/Context.js","../src/Provider.js","../src/withAuth.js","../src/hooks/useAuth.js"],"sourcesContent":["/**\r\n * @author Ray\r\n * @description Context\r\n */\r\nimport React from 'react';\r\n\r\n/**\r\n * @description 权限控制的上下文对象\r\n * @type {React.Context<{permissions: []}>}\r\n */\r\nexport const ReactAuthContext = React.createContext({\r\n    permissions: []\r\n});\r\n\r\nexport default ReactAuthContext;\r\n","/**\r\n * @author Ray\r\n * @description 提供一个权限使用的上下文\r\n */\r\nimport React from 'react';\r\nimport { ReactAuthContext } from './Context';\r\n\r\n/**\r\n * @description 顶层组件，将权限代码传向整个组件数。\r\n * @param children\r\n * @param permissions\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport default function Provider({ children, permissions }) {\r\n    return (\r\n        <ReactAuthContext.Provider\r\n            value={{\r\n                permissions\r\n            }}\r\n        >\r\n            {children}\r\n        </ReactAuthContext.Provider>\r\n    );\r\n}\r\n","/**\r\n * @author Ray\r\n * @description 获取context中存储的permission，判断如何处理包含的子组件。\r\n */\r\nimport React, { useState } from 'react';\r\nimport { ReactAuthContext } from './Context';\r\n\r\n/**\r\n * @description 使用上下文对象获取顶层注入的权限代码\r\n * @param key\r\n * @param key\r\n * @returns {function(*): function(*): *}\r\n */\r\nexport function withAuth(component) {\r\n    return component;\r\n}\r\n\r\nexport default withAuth;\r\n","/**\r\n * @author ray\r\n * @description 获取权限\r\n */\r\nimport { useContext } from 'react';\r\nimport { ReactAuthContext } from '../Context';\r\n\r\n/**\r\n *\r\n * @returns {{permissions: *[]}}\r\n */\r\nexport default function useAuth() {\r\n    const context = useContext(ReactAuthContext);\r\n\r\n    return context;\r\n}\r\n"],"names":["ReactAuthContext","React","createContext","permissions","Provider","children","withAuth","component","useAuth","context","useContext"],"mappings":";;;;;;;;IAAA;;;;AAIA,IAEA;;;;;AAIA,IAAO,IAAMA,gBAAgB,GAAGC,cAAK,CAACC,aAAN,CAAoB;IAChDC,EAAAA,WAAW,EAAE;IADmC,CAApB,CAAzB;;ICVP;;;;AAIA,IAGA;;;;;;;;AAOA,IAAe,SAASC,QAAT,OAA6C;IAAA,MAAzBC,QAAyB,QAAzBA,QAAyB;IAAA,MAAfF,WAAe,QAAfA,WAAe;IACxD,SACIF,6BAAC,gBAAD,CAAkB,QAAlB;IACI,IAAA,KAAK,EAAE;IACHE,MAAAA,WAAW,EAAXA;IADG;IADX,KAKKE,QALL,CADJ;IASH;;ICxBD;;;;AAIA,IAGA;;;;;;;AAMA,IAAO,SAASC,QAAT,CAAkBC,SAAlB,EAA6B;IAChC,SAAOA,SAAP;IACH;;ICfD;;;;AAIA,IAGA;;;;;AAIA,IAAe,SAASC,OAAT,GAAmB;IAC9B,MAAMC,OAAO,GAAGC,gBAAU,CAACV,gBAAD,CAA1B;IAEA,SAAOS,OAAP;IACH;;;;;;;;;;;;;;;"}